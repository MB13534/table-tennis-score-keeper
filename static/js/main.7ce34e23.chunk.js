(this.webpackJsonpcounter=this.webpackJsonpcounter||[]).push([[0],{132:function(e,t,n){},142:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(36),o=n.n(r),i=n(11),s=n(54),l=(n(130),n(131),n(132),n(214)),d=n(215),x=n(216),u=n(217),j=n(218),p=n(219),b=n(111),h=n(206),f=n(209),m=n(200),O=n(211),g=n(106),S=n.n(g),v=n(192),y=n(4),w=function(e){var t=e.auth;return Object(y.jsx)(f.a,{color:"secondary",variant:"contained",onClick:function(){var e=new s.a.auth.GoogleAuthProvider;t.signInWithPopup(e)},sx:{my:2,color:"white",display:"block"},children:"Sign in"})},C=n(105),k=function(e){var t,n=e.auth,a=Object(C.a)(n),r=Object(i.a)(a,1)[0],o=Object(c.useState)(null),s=Object(i.a)(o,2),g=s[0],k=s[1],I=Object(c.useState)(null),R=Object(i.a)(I,2),z=R[0],D=R[1],G=["One","Two","Three"],M=[{label:"Logout",action:function(){return n.signOut()}}],T=function(){k(null)},E=function(){D(null)};return Object(y.jsx)(l.a,{position:"fixed",children:Object(y.jsx)(d.a,{maxWidth:"xl",children:Object(y.jsxs)(x.a,{disableGutters:!0,children:[Object(y.jsx)(v.a,{sx:{display:{xs:"none",md:"flex"},mr:1}}),Object(y.jsx)(u.a,{variant:"h6",noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"TableTennisTracker"}),Object(y.jsxs)(j.a,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[Object(y.jsx)(p.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){k(e.currentTarget)},color:"inherit",children:Object(y.jsx)(S.a,{})}),Object(y.jsx)(b.a,{id:"menu-appbar",anchorEl:g,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(g),onClose:T,sx:{display:{xs:"block",md:"none"}},children:G.map((function(e){return Object(y.jsx)(h.a,{onClick:function(){E(),n.signOut()},children:Object(y.jsx)(u.a,{textAlign:"center",children:e})},e)}))})]}),Object(y.jsx)(v.a,{sx:{display:{xs:"flex",md:"none"},mr:1}}),Object(y.jsx)(u.a,{variant:"h5",noWrap:!0,component:"a",href:"",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"TableTennis"}),Object(y.jsx)(j.a,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:G.map((function(e){return Object(y.jsx)(f.a,{onClick:T,sx:{my:2,color:"white",display:"block"},children:e},e)}))}),r?Object(y.jsxs)(j.a,{sx:{flexGrow:0},children:[Object(y.jsx)(m.a,{title:"Open settings",children:Object(y.jsx)(p.a,{onClick:function(e){D(e.currentTarget)},sx:{p:0},children:Object(y.jsx)(O.a,{src:null===n||void 0===n||null===(t=n.currentUser)||void 0===t?void 0:t.photoURL,alt:"avatar"})})}),Object(y.jsx)(b.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:z,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(z),onClose:E,children:M.map((function(e){return Object(y.jsx)(h.a,{onClick:function(){E(),n.signOut()},children:Object(y.jsx)(u.a,{textAlign:"center",children:e.label})},e)}))})]}):Object(y.jsx)(w,{auth:n})]})})})},I=n(212),R=n(213),z=n(207),D=n(204),G=n(202),M=n(86),T=(n(139),n(201)),E=n(7),P=Object(E.a)(T.a)((function(){return{".MuiInputBase-input.Mui-disabled":{WebkitTextFillColor:"#fff",color:"#fff"}}})),W=function(e){var t=e.scoreRef,n=e.targetScore,a=e.handleIncrement,r=e.width,o=e.fontSize,s=e.pathColor,l=Object(c.useState)(0),d=Object(i.a)(l,2),x=d[0],u=d[1];return t.onSnapshot((function(e){u(e.data().score)})),Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(j.a,{sx:{width:r,borderRadius:"50%",cursor:"pointer",position:"relative"},onClick:a,children:[Object(y.jsx)("div",{style:{pointerEvents:"none"},children:Object(y.jsx)(M.a,{value:x,maxValue:n,strokeWidth:5,styles:Object(M.b)({pathColor:"rgba(".concat(s,", ").concat(x/n,")"),trailColor:"#d6d6d6"})})}),Object(y.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none"},children:Object(y.jsx)(P,{disabled:!0,type:"number",value:x,onChange:function(e){t.update({score:Number(e.target.value)})},inputProps:{sx:{width:r,textAlign:"center",color:"white",fontWeight:"bold",fontSize:o,disableUnderline:!0,cursor:"pointer"}},sx:{"& fieldset":{border:"none"}}})})]})})},N=n(198),A=n(199),B=function(e){var t=e.scoreRef,n=e.targetScore,c=e.handleIncrement,a=e.handleDecrement,r=e.buttonSize,o=e.score;return Object(y.jsxs)(j.a,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"start",sx:{height:"100%"},children:[Object(y.jsx)(W,{pathColor:"167, 141, 0",fontSize:{xs:"100px",sm:"100px",md:"150px",lg:"200px",xl:"300px"},width:{xs:"200px",sm:"175px",md:"250px",lg:"350px",xl:"450px"},targetScore:n,scoreRef:t,handleIncrement:c}),Object(y.jsxs)(j.a,{display:"flex",alignItems:"center",children:[Object(y.jsx)(j.a,{children:Object(y.jsx)(p.a,{disabled:0===o,onClick:a,"aria-label":"decrease",sx:{color:"white"},children:Object(y.jsx)(N.a,{sx:{width:r,height:r}})})}),Object(y.jsx)(j.a,{children:Object(y.jsx)(p.a,{onClick:c,"aria-label":"increase",sx:{color:"white"},children:Object(y.jsx)(A.a,{sx:{width:r,height:r}})})})]})]})},F=n(87),U=function(e){var t=e.scoreRef,n=e.targetScore,c=e.handleIncrement,a=e.handleDecrement,r=e.buttonSize,o=e.score;return Object(y.jsxs)(j.a,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"start",sx:{height:"100%"},children:[Object(y.jsx)(W,{pathColor:"0,0,139",fontSize:{xs:"75px",sm:"75px",md:"100px",lg:"125px",xl:"200px"},width:{xs:"125px",sm:"100px",md:"175px",lg:"220px",xl:"300px"},targetScore:n,scoreRef:t,handleIncrement:c}),Object(y.jsxs)(j.a,{display:"flex",alignItems:"center",children:[Object(y.jsx)(j.a,{children:Object(y.jsx)(p.a,{disabled:0===o,onClick:a,"aria-label":"decrease",sx:{color:"white"},children:Object(y.jsx)(N.a,{sx:{width:r,height:r}})})}),Object(y.jsx)(j.a,{children:Object(y.jsx)(p.a,{onClick:c,"aria-label":"increase",sx:{color:"white"},children:Object(y.jsx)(A.a,{sx:{width:r,height:r}})})})]})]})},J=F.a.firestore.FieldValue.increment(1),L=F.a.firestore.FieldValue.increment(-1),V=function(e){var t=e.scoreRef,n=e.matchRef,c=e.playerRef,a=e.targetScore,r=e.targetMatch,o=e.playerName,i=e.setPlayerName,s=e.handleServeIncrease,l=e.handleServeDecrease,d=e.score,x=e.match,u=e.reverse,p=void 0!==u&&u;return c.onSnapshot((function(e){i(e.data().name)})),Object(y.jsxs)(j.a,{display:"flex",flexDirection:"column",alignItems:"center",children:[Object(y.jsx)(T.a,{value:o,onChange:function(e){c.update({name:e.target.value})},inputProps:{sx:{textAlign:"center",color:"white",fontWeight:"bold",fontSize:{xs:"30px",sm:"35px",md:"40px",lg:"50px",xl:"50px"},disableUnderline:!0,maxWidth:{xs:"200px",sm:"200px",md:"250px",lg:"300px",xl:"400px"},paddingTop:0}},sx:{"& fieldset":{border:"none"}}}),Object(y.jsxs)(j.a,{display:"flex",alignItems:"center",sx:{flexDirection:{xs:"row",sm:p?"row-reverse":"row"}},children:[Object(y.jsx)(U,{score:x,buttonSize:"40px",scoreRef:n,targetScore:r,handleIncrement:function(){n.update({score:J})},handleDecrement:function(){n.update({score:L})}}),Object(y.jsx)(B,{score:d,buttonSize:"60px",scoreRef:t,targetScore:a,handleIncrement:function(){t.update({score:J}),s()},handleDecrement:function(){t.update({score:L}),l()}})]})]})};s.a.initializeApp({apiKey:"AIzaSyBK0NPe5U_1e-8pgND7iYH-688nLSYDev4",authDomain:"table-tennis-production.firebaseapp.com",projectId:"table-tennis-production",storageBucket:"table-tennis-production.appspot.com",messagingSenderId:"170366675200",appId:"1:170366675200:web:e3954775c2f910884dabe5",measurementId:"G-J0PGP6EYP9"});var Y=s.a.auth(),K=s.a.firestore(),H=K.collection("currentGame").doc("player1"),_=K.collection("currentMatch").doc("player1"),q=K.collection("currentGame").doc("player1"),Q=K.collection("currentGame").doc("player2"),X=K.collection("currentMatch").doc("player2"),Z=K.collection("currentGame").doc("player2"),$=K.collection("currentGame").doc("config"),ee=K.collection("currentMatch").doc("config"),te=K.collection("currentGame").doc("currentServe");var ne=function(){var e=Object(c.useState)(0),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(0),o=Object(i.a)(r,2),s=o[0],l=o[1];$.onSnapshot((function(e){a(e.data().targetScore)})),ee.onSnapshot((function(e){l(e.data().targetScore)}));var d=Object(c.useState)(0),x=Object(i.a)(d,2),p=x[0],b=x[1],h=Object(c.useState)(0),f=Object(i.a)(h,2),m=f[0],O=f[1],g=Object(c.useState)(0),S=Object(i.a)(g,2),v=S[0],w=S[1],C=Object(c.useState)(0),M=Object(i.a)(C,2),T=M[0],E=M[1],P=Object(c.useState)(null),W=Object(i.a)(P,2),N=W[0],A=W[1];Object(c.useEffect)((function(){var e=H.onSnapshot((function(e){b(e.data().score)})),t=Q.onSnapshot((function(e){O(e.data().score)})),n=_.onSnapshot((function(e){w(e.data().score)})),c=X.onSnapshot((function(e){E(e.data().score)})),a=te.onSnapshot((function(e){A(e.data().position)}));return function(){e(),t(),n(),c(),a()}}),[]);var B=function(){H.update({score:0}),Q.update({score:0})},F=function(){_.update({score:0}),X.update({score:0})};Object(c.useEffect)((function(){p>=n&&p-m>=2&&(_.update({score:v+1}),te.update({position:2}),B())}),[p]),Object(c.useEffect)((function(){m>=n&&m-p>=2&&(X.update({score:T+1}),te.update({position:0}),B())}),[m]),Object(c.useEffect)((function(){v>=s&&0!==v?(je(L),le(!0),F(),B()):T>=s&&0!==T&&(je(ae),le(!0),F(),B())}),[v,T]);var U=Object(c.useState)(""),J=Object(i.a)(U,2),L=J[0],K=J[1],ne=Object(c.useState)(""),ce=Object(i.a)(ne,2),ae=ce[0],re=ce[1],oe=Object(c.useState)(!1),ie=Object(i.a)(oe,2),se=ie[0],le=ie[1],de=Object(c.useState)(""),xe=Object(i.a)(de,2),ue=xe[0],je=xe[1],pe=Object(c.useRef)(!0);Object(c.useEffect)((function(){pe.current?pe.current=!1:null!==N&&te.update({position:N})}),[N]);var be=function(){A((function(e){return p>=10&&m>=10?(e+2)%4:(e+1)%4}))},he=function(){A((function(e){return p>=10&&m>=10?0===e?2:e-2:0===e?3:e-1}))},fe=["".concat(L," - Serve 1"),"".concat(L," - Serve 2"),"".concat(ae," - Serve 1"),"".concat(ae," - Serve 2")];return Object(y.jsxs)(j.a,{style:{backgroundColor:"#282535"},children:[Object(y.jsx)(k,{auth:Y}),Object(y.jsxs)(I.a,{container:!0,sx:{marginTop:{xs:"55px",sm:"60px",md:"66px",lg:"65px",xl:"65px"},width:"100%",display:"flex"},children:[Object(y.jsx)(I.a,{item:!0,xs:12,sm:6,display:"flex",justifyContent:{xs:"center",sm:"flex-end"},children:Object(y.jsx)(V,{score:p,match:v,playerName:L,setPlayerName:K,scoreRef:H,matchRef:_,playerRef:q,targetScore:n,targetMatch:s,handleServeIncrease:be,handleServeDecrease:he})}),Object(y.jsx)(I.a,{item:!0,xs:12,sm:6,display:"flex",justifyContent:{xs:"center",sm:"flex-start"},children:Object(y.jsx)(V,{reverse:!0,score:m,match:T,playerName:ae,setPlayerName:re,scoreRef:Q,matchRef:X,playerRef:Z,targetScore:n,targetMatch:s,handleServeIncrease:be,handleServeDecrease:he})}),Object(y.jsx)(I.a,{item:!0,xs:12,children:Object(y.jsx)(R.a,{value:N,onChange:function(e){A(Number(e.target.value))},sx:{flexDirection:{xs:"row",md:"row"},alignItems:"center",justifyContent:{xs:"space-around",md:"center"}},children:fe.map((function(e,t){return Object(y.jsx)(z.a,{value:t,control:Object(y.jsx)(D.a,{sx:{color:"white","&.Mui-checked":{color:"white"},"& .MuiSvgIcon-root":{fontSize:N===t?"55px":"25px"}}}),label:Object(y.jsx)(u.a,{variant:"body1",sx:{fontSize:N===t?"25px":"18px",display:{xs:"none",md:"block"}},children:e})},t)}))})})]}),Object(y.jsx)(G.a,{open:se,onClose:function(){return le(!1)},"aria-labelledby":"modal-title","aria-describedby":"simple-modal-description",children:Object(y.jsxs)(j.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"black",border:"2px solid #000",boxShadow:24,p:4,borderRadius:"10px",textAlign:"center"},children:[Object(y.jsx)(u.a,{variant:"h2",id:"winner-title",mb:2,children:"Congratulations!"}),Object(y.jsxs)(u.a,{variant:"h4",id:"winner-description",children:[ue," is the winner!"]})]})})]})},ce=n(205),ae=n(110),re=Object(ae.a)({palette:{primary:{main:"#181717"},secondary:{main:"#a78d00"}}});o.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(ce.a,{theme:re,children:Object(y.jsx)(ne,{})})}),document.getElementById("root"))}},[[142,1,2]]]);
//# sourceMappingURL=main.7ce34e23.chunk.js.map