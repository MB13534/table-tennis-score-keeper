(this.webpackJsonpcounter=this.webpackJsonpcounter||[]).push([[0],{132:function(e,t,n){},142:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(36),o=n.n(r),i=n(11),s=n(54),l=(n(130),n(131),n(132),n(214)),x=n(215),d=n(216),u=n(217),p=n(218),j=n(219),b=n(111),h=n(206),f=n(209),m=n(200),O=n(211),g=n(105),S=n.n(g),v=n(192),y=n(4),w=function(e){var t=e.auth;return Object(y.jsx)(f.a,{color:"secondary",variant:"contained",onClick:function(){var e=new s.a.auth.GoogleAuthProvider;t.signInWithPopup(e)},sx:{color:"white",display:"block"},size:"small",children:"Sign in"})},C=function(e){var t,n=e.auth,a=e.user,r=Object(c.useState)(null),o=Object(i.a)(r,2),s=o[0],g=o[1],C=Object(c.useState)(null),k=Object(i.a)(C,2),I=k[0],R=k[1],z=["One","Two","Three"],D=[{label:"Logout",action:function(){return n.signOut()}}],G=function(){g(null)},M=function(){R(null)};return Object(y.jsx)(l.a,{position:"fixed",children:Object(y.jsx)(x.a,{maxWidth:"xl",children:Object(y.jsxs)(d.a,{disableGutters:!0,children:[Object(y.jsx)(v.a,{sx:{display:{xs:"none",md:"flex"},mr:1}}),Object(y.jsx)(u.a,{variant:"h6",noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"TableTennisTracker"}),Object(y.jsxs)(p.a,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[Object(y.jsx)(j.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){g(e.currentTarget)},color:"inherit",children:Object(y.jsx)(S.a,{})}),Object(y.jsx)(b.a,{id:"menu-appbar",anchorEl:s,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(s),onClose:G,sx:{display:{xs:"block",md:"none"}},children:z.map((function(e){return Object(y.jsx)(h.a,{onClick:function(){M(),n.signOut()},children:Object(y.jsx)(u.a,{textAlign:"center",children:e})},e)}))})]}),Object(y.jsx)(v.a,{sx:{display:{xs:"flex",md:"none"},mr:1}}),Object(y.jsx)(u.a,{variant:"h5",noWrap:!0,component:"a",href:"",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"monospace",color:"inherit",textDecoration:"none"},children:"TableTennis"}),Object(y.jsx)(p.a,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:z.map((function(e){return Object(y.jsx)(f.a,{onClick:G,sx:{my:2,color:"white",display:"block"},children:e},e)}))}),a?Object(y.jsxs)(p.a,{sx:{flexGrow:0},children:[Object(y.jsx)(m.a,{title:"Open settings",children:Object(y.jsx)(j.a,{onClick:function(e){R(e.currentTarget)},sx:{p:0},children:Object(y.jsx)(O.a,{src:null===n||void 0===n||null===(t=n.currentUser)||void 0===t?void 0:t.photoURL,alt:"avatar"})})}),Object(y.jsx)(b.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:I,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(I),onClose:M,children:D.map((function(e){return Object(y.jsx)(h.a,{onClick:function(){M(),n.signOut()},children:Object(y.jsx)(u.a,{textAlign:"center",children:e.label})},e)}))})]}):Object(y.jsx)(w,{auth:n})]})})})},k=n(212),I=n(213),R=n(207),z=n(204),D=n(202),G=n(86),M=(n(139),n(201)),T=n(7),E=Object(T.a)(M.a)((function(){return{".MuiInputBase-input.Mui-disabled":{WebkitTextFillColor:"#fff",color:"#fff"}}})),P=function(e){var t=e.scoreRef,n=e.targetScore,a=e.handleIncrement,r=e.width,o=e.fontSize,s=e.pathColor,l=Object(c.useState)(0),x=Object(i.a)(l,2),d=x[0],u=x[1];return t.onSnapshot((function(e){u(e.data().score)})),Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(p.a,{sx:{width:r,borderRadius:"50%",cursor:"pointer",position:"relative"},onClick:a,children:[Object(y.jsx)("div",{style:{pointerEvents:"none"},children:Object(y.jsx)(G.a,{value:d,maxValue:n,strokeWidth:5,styles:Object(G.b)({pathColor:"rgba(".concat(s,", ").concat(d/n,")"),trailColor:"#d6d6d6"})})}),Object(y.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none"},children:Object(y.jsx)(E,{disabled:!0,type:"number",value:d,onChange:function(e){t.update({score:Number(e.target.value)})},inputProps:{sx:{width:r,textAlign:"center",color:"white",fontWeight:"bold",fontSize:o,disableUnderline:!0,cursor:"pointer"}},sx:{"& fieldset":{border:"none"}}})})]})})},N=n(198),W=n(199),A=function(e){var t=e.scoreRef,n=e.targetScore,c=e.handleIncrement,a=e.handleDecrement,r=e.buttonSize,o=e.score;return Object(y.jsxs)(p.a,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"start",sx:{height:"100%"},children:[Object(y.jsx)(P,{pathColor:"167, 141, 0",fontSize:{xs:"100px",sm:"100px",md:"150px",lg:"200px",xl:"300px"},width:{xs:"200px",sm:"175px",md:"250px",lg:"350px",xl:"450px"},targetScore:n,scoreRef:t,handleIncrement:c}),Object(y.jsxs)(p.a,{display:"flex",alignItems:"center",children:[Object(y.jsx)(p.a,{children:Object(y.jsx)(j.a,{disabled:0===o,onClick:a,"aria-label":"decrease",sx:{color:"white"},children:Object(y.jsx)(N.a,{sx:{width:r,height:r}})})}),Object(y.jsx)(p.a,{children:Object(y.jsx)(j.a,{onClick:c,"aria-label":"increase",sx:{color:"white"},children:Object(y.jsx)(W.a,{sx:{width:r,height:r}})})})]})]})},B=n(87),F=function(e){var t=e.scoreRef,n=e.targetScore,c=e.handleIncrement,a=e.handleDecrement,r=e.buttonSize,o=e.score;return Object(y.jsxs)(p.a,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"start",sx:{height:"100%"},children:[Object(y.jsx)(P,{pathColor:"0,0,139",fontSize:{xs:"75px",sm:"75px",md:"100px",lg:"125px",xl:"200px"},width:{xs:"125px",sm:"100px",md:"175px",lg:"220px",xl:"300px"},targetScore:n,scoreRef:t,handleIncrement:c}),Object(y.jsxs)(p.a,{display:"flex",alignItems:"center",children:[Object(y.jsx)(p.a,{children:Object(y.jsx)(j.a,{disabled:0===o,onClick:a,"aria-label":"decrease",sx:{color:"white"},children:Object(y.jsx)(N.a,{sx:{width:r,height:r}})})}),Object(y.jsx)(p.a,{children:Object(y.jsx)(j.a,{onClick:c,"aria-label":"increase",sx:{color:"white"},children:Object(y.jsx)(W.a,{sx:{width:r,height:r}})})})]})]})},U=B.a.firestore.FieldValue.increment(1),J=B.a.firestore.FieldValue.increment(-1),L=function(e){var t=e.scoreRef,n=e.matchRef,c=e.playerRef,a=e.targetScore,r=e.targetMatch,o=e.playerName,i=e.setPlayerName,s=e.handleServeIncrease,l=e.handleServeDecrease,x=e.score,d=e.match,u=e.reverse,j=void 0!==u&&u;return c.onSnapshot((function(e){i(e.data().name)})),Object(y.jsxs)(p.a,{display:"flex",flexDirection:"column",alignItems:"center",children:[Object(y.jsx)(M.a,{value:o,onChange:function(e){c.update({name:e.target.value})},inputProps:{sx:{textAlign:"center",color:"white",fontWeight:"bold",fontSize:{xs:"30px",sm:"35px",md:"40px",lg:"50px",xl:"50px"},disableUnderline:!0,maxWidth:{xs:"200px",sm:"200px",md:"250px",lg:"300px",xl:"400px"},paddingTop:0,paddingBottom:{xs:"4px",sm:"10px",md:"14px"}}},sx:{"& fieldset":{border:"none"}}}),Object(y.jsxs)(p.a,{display:"flex",alignItems:"center",sx:{flexDirection:{xs:"row",sm:j?"row-reverse":"row"}},children:[Object(y.jsx)(F,{score:d,buttonSize:{xs:"30px",sm:"35px",md:"40px",lg:"45px",xl:"50px"},scoreRef:n,targetScore:r,handleIncrement:function(){n.update({score:U})},handleDecrement:function(){n.update({score:J})}}),Object(y.jsx)(A,{score:x,buttonSize:{xs:"40px",sm:"45px",md:"50px",lg:"55px",xl:"60px"},scoreRef:t,targetScore:a,handleIncrement:function(){t.update({score:U}),s()},handleDecrement:function(){t.update({score:J}),l()}})]})]})},V=n(109);s.a.initializeApp({apiKey:"AIzaSyBK0NPe5U_1e-8pgND7iYH-688nLSYDev4",authDomain:"table-tennis-production.firebaseapp.com",projectId:"table-tennis-production",storageBucket:"table-tennis-production.appspot.com",messagingSenderId:"170366675200",appId:"1:170366675200:web:e3954775c2f910884dabe5",measurementId:"G-J0PGP6EYP9"});var Y=s.a.auth(),K=s.a.firestore(),H=K.collection("currentGame").doc("player1"),_=K.collection("currentMatch").doc("player1"),q=K.collection("currentGame").doc("player1"),Q=K.collection("currentGame").doc("player2"),X=K.collection("currentMatch").doc("player2"),Z=K.collection("currentGame").doc("player2"),$=K.collection("currentGame").doc("config"),ee=K.collection("currentMatch").doc("config"),te=K.collection("currentGame").doc("currentServe");var ne=function(){var e=Object(V.a)(Y),t=Object(i.a)(e,1)[0],n=Object(c.useState)(0),a=Object(i.a)(n,2),r=a[0],o=a[1],s=Object(c.useState)(0),l=Object(i.a)(s,2),x=l[0],d=l[1];$.onSnapshot((function(e){o(e.data().targetScore)})),ee.onSnapshot((function(e){d(e.data().targetScore)}));var j=Object(c.useState)(0),b=Object(i.a)(j,2),h=b[0],f=b[1],m=Object(c.useState)(0),O=Object(i.a)(m,2),g=O[0],S=O[1],v=Object(c.useState)(0),w=Object(i.a)(v,2),G=w[0],M=w[1],T=Object(c.useState)(0),E=Object(i.a)(T,2),P=E[0],N=E[1],W=Object(c.useState)(null),A=Object(i.a)(W,2),B=A[0],F=A[1];Object(c.useEffect)((function(){var e=H.onSnapshot((function(e){f(e.data().score)})),t=Q.onSnapshot((function(e){S(e.data().score)})),n=_.onSnapshot((function(e){M(e.data().score)})),c=X.onSnapshot((function(e){N(e.data().score)})),a=te.onSnapshot((function(e){F(e.data().position)}));return function(){e(),t(),n(),c(),a()}}),[]);var U=function(){H.update({score:0}),Q.update({score:0})},J=function(){_.update({score:0}),X.update({score:0})};Object(c.useEffect)((function(){h>=r&&h-g>=2&&(_.update({score:G+1}),te.update({position:2}),U())}),[h]),Object(c.useEffect)((function(){g>=r&&g-h>=2&&(X.update({score:P+1}),te.update({position:0}),U())}),[g]),Object(c.useEffect)((function(){G>=x&&0!==G?(he(ce),ue(!0),J(),U()):P>=x&&0!==P&&(he(ie),ue(!0),J(),U())}),[G,P]);var K=Object(c.useState)(""),ne=Object(i.a)(K,2),ce=ne[0],ae=ne[1],re=Object(c.useState)(""),oe=Object(i.a)(re,2),ie=oe[0],se=oe[1],le=Object(c.useState)(!1),xe=Object(i.a)(le,2),de=xe[0],ue=xe[1],pe=Object(c.useState)(""),je=Object(i.a)(pe,2),be=je[0],he=je[1],fe=Object(c.useRef)(!0);Object(c.useEffect)((function(){fe.current?fe.current=!1:null!==B&&te.update({position:B})}),[B]);var me=function(){F((function(e){return h>=10&&g>=10?(e+2)%4:(e+1)%4}))},Oe=function(){F((function(e){return h>=10&&g>=10?0===e?2:e-2:0===e?3:e-1}))},ge=["".concat(ce," - Serve 1"),"".concat(ce," - Serve 2"),"".concat(ie," - Serve 1"),"".concat(ie," - Serve 2")];return Object(y.jsxs)(p.a,{style:{backgroundColor:"#282535"},children:[Object(y.jsx)(C,{auth:Y,user:t}),t&&Object(y.jsxs)(k.a,{container:!0,sx:{marginTop:{xs:"55px",sm:"60px",md:"66px",lg:"65px",xl:"65px"},width:"100%",display:"flex"},children:[Object(y.jsx)(k.a,{item:!0,xs:12,sm:6,display:"flex",justifyContent:{xs:"center",sm:"flex-end"},children:Object(y.jsx)(L,{score:h,match:G,playerName:ce,setPlayerName:ae,scoreRef:H,matchRef:_,playerRef:q,targetScore:r,targetMatch:x,handleServeIncrease:me,handleServeDecrease:Oe})}),Object(y.jsx)(k.a,{item:!0,xs:12,sm:6,display:"flex",justifyContent:{xs:"center",sm:"flex-start"},children:Object(y.jsx)(L,{reverse:!0,score:g,match:P,playerName:ie,setPlayerName:se,scoreRef:Q,matchRef:X,playerRef:Z,targetScore:r,targetMatch:x,handleServeIncrease:me,handleServeDecrease:Oe})}),Object(y.jsx)(k.a,{item:!0,xs:12,children:Object(y.jsx)(I.a,{value:B,onChange:function(e){F(Number(e.target.value))},sx:{flexDirection:{xs:"row",md:"row"},alignItems:"center",justifyContent:{xs:"space-around",md:"center"}},children:ge.map((function(e,t){return Object(y.jsx)(R.a,{value:t,control:Object(y.jsx)(z.a,{sx:{color:"white","&.Mui-checked":{color:"white"},"& .MuiSvgIcon-root":{fontSize:B===t?"55px":"25px"}}}),label:Object(y.jsx)(u.a,{variant:"body1",sx:{fontSize:B===t?"25px":"18px",display:{xs:"none",md:"block"}},children:e})},t)}))})})]}),Object(y.jsx)(D.a,{open:de,onClose:function(){return ue(!1)},"aria-labelledby":"modal-title","aria-describedby":"simple-modal-description",children:Object(y.jsxs)(p.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"black",border:"2px solid #000",boxShadow:24,p:4,borderRadius:"10px",textAlign:"center"},children:[Object(y.jsx)(u.a,{variant:"h2",id:"winner-title",mb:2,children:"Congratulations!"}),Object(y.jsxs)(u.a,{variant:"h4",id:"winner-description",children:[be," is the winner!"]})]})})]})},ce=n(205),ae=n(110),re=Object(ae.a)({palette:{primary:{main:"#181717"},secondary:{main:"#a78d00"}}});o.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(ce.a,{theme:re,children:Object(y.jsx)(ne,{})})}),document.getElementById("root"))}},[[142,1,2]]]);
//# sourceMappingURL=main.5d1c6ead.chunk.js.map